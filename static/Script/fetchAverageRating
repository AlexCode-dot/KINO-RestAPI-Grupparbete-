async function fetchAverageRating(movieId) {
  const response = await fetch(`/api/average-rating/${movieId}`);
  const data = await response.json();
  return data.averageRating;
}

function averageRatingTest() {
    console.log("test rating");
  };


async function displayAverageRating(movieId) {
  const averageRating = await fetchAverageRating(movieId);
  const ratingContainer = document.querySelector(`.singleMovie__main-rating`);
  ratingContainer.textContent = `Average movie rating: ${averageRating.toFixed(1)}`;
  console.log(ratingContainer.textContent);
}
console.log('fetchAverageRating loaded');
document.addEventListener('DOMContentLoaded', () => {
  const movieId = window.location.pathname.split('/').pop();
  averageRatingTest();
  displayAverageRating(movieId);
});